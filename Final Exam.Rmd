---
title: "Great American Coffee Taste Test "
author: "Erica Galvan"
date: "December 3, 2024"
output:
  slidy_presentation:
    fig_height: 6
    fig_width: 8
  pdf_document: default
 
---
# Introduction
* Coffee expert, "World Champion Barista" and Youtuber 'James Hoffman' partnered with Cometeer, a flash frozen coffee pod delivery service.  
* James held a live coffee taste test held on Youtube. Viewers who participated were asked to fill out a survey based on 4 coffee samples they received. 

# Load Packages and Data
```{r}
knitr::opts_chunk$set(echo = TRUE)
coffee_survey <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-05-14/coffee_survey.csv')
library(tidyverse)
library(ggplot2)
library(dplyr)
```

# Data Source Info
* Received 4000 responses.
* Survey was voluntary.
* Taste test was a follow along live stream on Youtube. Essentially everyone who participated had the same tasting experience.

# Info at Glance 
```{r}
names(coffee_survey)
#I share the variable names at a glance because these are the few additions I am working with. 
```

# Questions
* Where/Why do they drink coffee?
* How do they brew their coffee?
* What does the consumer generally add to their coffee?
* What was the most popular coffee from the survey? 


# Where do they drink coffee?
Asking this question was important because I wanted to find out where do the surveyors usually drink their coffee? Initially this plays part in how the customer enjoys their coffee experience. I created this ggplot by gathering the data from the csv. I used the gradient fill on my chart to make the diagram pop - instead of having random colors with no correlation. It flows from darkest to light purple because the most counted category "at home" was most popular option to where people enjoyed their coffee. I initially had the percentage of where people made their coffee - but I concluded that viewing the total count of respondents would properly display the overal summary of where the participants make their coffee!

```{r}

where_drink <- data.frame(
 Location = c("At home", "At the office", "At a cafe", "On the go", "None of these"),
   Count = c(920, 360, 290, 180, 10))  # Actual counts of the total )

 # Create the ggplot
ggplot(where_drink, aes(x = reorder(Location, -Count), y = Count, fill = Count)) +
  geom_bar(stat = "identity", color = "black") +  
  geom_text(aes(label = Count), vjust = -0.2, size = 4.0) +  # Display total counts on each category 
  labs(title = "Where do you Brew Coffee?", 
      x = NULL,
      y = "Total Respondents") +
  theme_minimal(base_size = 15) +
  scale_fill_gradient(low = "Medium Purple 1", high = "Medium Purple 4") + #adjust the gradient
  theme(legend.position = "none")
```


# Why do they drink coffee?
```{r echo = FALSE}
why_coffee <- data.frame(
  Reason = c("Tastes Good", "Caffeine", "Ritual", "To Poop", "Other"),
  Percentage = c(94, 57, 54, 13, 5)
)

ggplot(why_coffee, aes(x = reorder(Reason, -Percentage), y = Percentage, fill = Percentage)) +
  geom_bar(stat = "identity", width = 0.7, color = "black") +
  geom_text(aes(label = paste0(Percentage, "%")), vjust = -0.5) + 
  labs(
    title = "Why Do You Drink Coffee?",
    x = NULL,
    y = "Percent of Respondents"
  ) +
  scale_fill_gradient(low = "Dark Olive Green 4", high = "Dark Olive Green 1") + 
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "none"
  )

```

# How do they typically brew coffee?
```{r echo = FALSE}

coffee_data2 <- data.frame(
  Method = c("Pour over", "Espresso", "French press", "Other", 
             "Mr. Coffee", "Cold brew", "Pod Machine", 
             "Cometeer", "Instant coffee", "Bean-to-Cup"),
  Percentage = c(63, 41, 20, 18, 18, 14, 9, 5, 4, 2)
)

ggplot(coffee_data2, aes(x = reorder(Method, Percentage), y = Percentage, fill = Percentage)) +
  geom_col(color = "black") +
  scale_fill_gradient(low = "pink", high = "purple") +
  geom_text(aes(label = paste0(Percentage, "%")), hjust = -0.1, size = 4.5) +
  scale_y_continuous(limits = c(0, 70), expand = c(0, 0)) +
  labs(
    title = "How do you Brew Coffee?",
    x = NULL, y = "Percent of Respondents"
  ) +
  coord_flip() +
theme_minimal(base_size = 14) +
  theme(
    legend.position = "none")

```


# What does the consumer generally add to their coffee?
```{r echo = FALSE}
 
coffee_adds <- data.frame(
  CoffeeAdds = c("No - just black", "Milk, Dairy, or Creamer", "Sugar or sweetener", "Flavor syrup", "Other"),
  Percentage = c(66, 43, 13, 6, 1)
)

# Plot
ggplot(coffee_adds, aes(x = Percentage, y = reorder(CoffeeAdds, Percentage), fill = Percentage)) +
  geom_bar(stat = "identity", show.legend = FALSE) +
  scale_fill_gradient(low = "Coral 1", high = "Coral 3") + 
  labs(
    title = "What do You Add to Coffee?",
    x = "Percent of Respondents",
    y = ""
  ) +
theme_minimal(base_size = 14) +
  theme(
    legend.position = "none"
  )

```


# Coffee Notes / Taste Test 
## Kenyan beans
* Coffee A - light roast 
* Coffee B - medium roast
* Coffee C - dark roast

## Columbian beans
* Coffee D -  light roast

## Limitations 
* Ranking the preference of bitterness, acidity and preference on scale of 1 to 5. 
* No Coffee add ons are allowed on the test. 8oz of boiled water only.


# What is the preference between Coffee A, B, or C?
```{r}
abc_pref <- coffee_survey %>%
  filter(!is.na(prefer_abc)) %>%
  ggplot(aes(x = prefer_abc, fill = prefer_abc)) +
  geom_bar() +
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5) + 
  scale_fill_manual(values = c("tan", "tan3", "saddlebrown")) +
  labs(
    title = "Coffee Preference: A, B, or C?", 
    x = NULL,
    y = "Count"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "none"
  )
print(abc_pref)
```
# What is the preference between Coffee A or D?

```{r}
pref_ad <- coffee_survey %>%
  filter(!is.na(prefer_ad)) %>% 
  #plotting with ggplot 
  ggplot(aes(x = prefer_ad, fill = prefer_ad)) +  
  geom_bar() + 
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5) +  
  scale_fill_manual(values = c("tan", "peachpuff3")) +  
  labs(
    title = "Coffee Preference: A or D?",
    x = NULL,
    y = "Count"
  ) + 
  theme_minimal(base_size = 14) +  
  theme(legend.position = "none")  

print(pref_ad)
  
```

# What is the most popular coffee?
With these results, we can see that Coffee D is the most popular coffee between the other three options. Yes, the participants did favor light roasts in comparison to medium and dark roasts - but Coffee D is the most favorable. This is because Coffee D was processed natually which makes the light roast have a more fermented and fruity/funky taste. 

```{r}
pref_abcd <- coffee_survey %>%
  filter(!is.na(prefer_overall)) %>%  
  ggplot(aes(prefer_overall)) +  
  geom_bar(fill = c("tan", "tan3", "saddlebrown", "peachpuff3")) + #using custom colors to differentiate the different coffees
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5) +  
  labs(
    y = 'Count',
    x = NULL,
    title = 'Coffee Preference: A, B, C or D?'
  ) +
  theme(
    legend.position = "none"  
  )


print(pref_abcd)
```

# Summary ðŸ¤©
* In conclusion, Coffee D, was the most popular coffee. This coffee 
* Light roasted coffee seems to be the most popular option in comparison to medium/dark roast 
* Overall, this experiment was just for fun - seeing what is the most favored coffee :)


